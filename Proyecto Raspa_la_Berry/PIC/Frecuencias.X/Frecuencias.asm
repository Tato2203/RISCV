LIST P=16F877a
INCLUDE "P16F877A.INC"
    tiempo   equ 0x0C
    ORG      0X00
    GOTO     INICIO
    ORG      0X05

INICIO:
    BSF STATUS,RP0
    MOVLW D'6' 
    MOVWF ADCON1
    CLRF TRISB
    MOVLW B'00011111'
    MOVWF TRISA
    BCF STATUS,RP0
    CLRF PORTB
	LOOP:
	    BTFSS PORTA,RA0 
	    GOTO S1
	    GOTO SECUENCIA1
	    S1:
		BTFSS PORTA,RA1
		GOTO S2
		GOTO SECUENCIA2
	    S2:
		BTFSS PORTA,RA2
		GOTO S3
		GOTO SECUENCIA3
	    S3:
		BTFSS PORTA,RA3
		GOTO S4
		GOTO SECUENCIA4
	    S4:
		BTFSS PORTA,RA4
		GOTO LOOP
		GOTO SECUENCIA5

	    SECUENCIA1: 
		BSF PORTB,RB0
		CALL F1
		BCF PORTB,RB0
		CALL F1
		GOTO LOOP

	    SECUENCIA2: 
		BSF PORTB,RB0
		CALL F2
		BCF PORTB,RB0 
		CALL F2
		GOTO S1

	    SECUENCIA3: 
		BSF PORTB,RB0
		CALL F3
		BCF PORTB,RB0
		CALL F3 
		GOTO S2

	    SECUENCIA4: 
		BSF PORTB,RB0
		CALL F4
		BCF PORTB,RB0
		CALL F4
		GOTO S3

	    SECUENCIA5: 
		BSF PORTB,RB0
		CALL F5
		BCF PORTB,RB0
		CALL F5 
		GOTO S4

	    F1:
		MOVLW D'166'
		MOVWF tiempo
	    
	    LOOP1:
		DECFSZ tiempo,1
		GOTO LOOP1
		RETURN      

	    F2:
		MOVLW D'243'
		MOVWF tiempo
	    
	    LOOP2:
		DECFSZ tiempo,1
		GOTO LOOP2
		RETURN

	    F3:
		MOVLW D'200'
		MOVWF tiempo
	
	    LOOP3:
		DECFSZ tiempo,1
		GOTO LOOP3
		RETURN

	    F4:
		MOVLW D'140'
	        MOVWF tiempo

	    LOOP4:
		DECFSZ tiempo,1
		GOTO LOOP4
		RETURN

	    F5:
		MOVLW D'256'
		MOVWF tiempo

	    LOOP5:
		DECFSZ tiempo,1
		GOTO LOOP5
		RETURN
END